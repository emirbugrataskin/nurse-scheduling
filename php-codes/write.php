<?php
include('headnurse-make-schedule.php');
$myfile = fopen("parameters.inc", "w") or die("Unable to open file!");
$txt = "Sets
i nurses /1*4/
d days  /1*'.$day_limit.'/
j shifts /1,2/
h hours/1*24/;
alias(d,dd);

set
ik(i) seniour nurses
     /1
      2
      3/

jn(j) night shift
/2/

;

Scalars

NumDays
/5/

NumNurses
/4/

Numshift
/2/

MinNightShift
/1/

MaxNightShift
/3/

R_maxNight
/1/

R_minNight
/1/

R_Bmax
/1/

R_Dmax
/1/

R_NightandDay
/1/

R_OneShiftDaily
/1/

R_SeniorNurse
/1/

R_consecutiveNight
/1/


Parameters
P(j) shift durations
/1 8
 2 16/

WHmax(i) max work hour
/1 125
 2 100
 3 100
 4 100

 /

WHmin(i) min work hour
/1 10
 2 10
 3 10
 4 10
 /

Unav(i,d,h) Unavailable hours /
1.1.1 = 1
1.1.2 = 1
1.1.3 = 1
1.1.4 = 1
1.1.5 = 1
1.1.6 = 1
1.1.7 = 1
1.1.8 = 0
1.1.9 = 0
1.1.10= 1
1.1.11= 1
1.1.12= 1
1.1.13= 1
1.1.14= 1
1.1.15= 1
1.1.16= 1
1.1.17= 1
1.1.18= 1
1.1.19= 1
1.1.20= 1
1.1.21= 1
1.1.22= 1
1.1.23= 1
1.1.24= 1



1.2.1 = 1
1.2.2 = 1
1.2.3 = 1
1.2.4 = 1
1.2.5 = 1
1.2.6 = 1
1.2.7 = 1
1.2.8 = 1
1.2.9 = 1
1.2.10= 1
1.2.11= 1
1.2.12= 1
1.2.13= 1
1.2.14= 1
1.2.15= 1
1.2.16= 1
1.2.17= 1
1.2.18= 1
1.2.19= 1
1.2.20= 1
1.2.21= 1
1.2.22= 1
1.2.23= 1
1.2.24= 1


1.3.1 = 1
1.3.2 = 1
1.3.3 = 1
1.3.4 = 1
1.3.5 = 1
1.3.6 = 1
1.3.7 = 1
1.3.8 = 1
1.3.9 = 1
1.3.10= 1
1.3.11= 1
1.3.12= 1
1.3.13= 1
1.3.14= 1
1.3.15= 1
1.3.16= 1
1.3.17= 1
1.3.18= 1
1.3.19= 1
1.3.20= 1
1.3.21= 1
1.3.22= 1
1.3.23= 1
1.3.24= 1


1.4.1 = 1
1.4.2 = 1
1.4.3 = 1
1.4.4 = 1
1.4.5 = 1
1.4.6 = 1
1.4.7 = 1
1.4.8 = 1
1.4.9 = 1
1.4.10= 1
1.4.11= 1
1.4.12= 1
1.4.13= 1
1.4.14= 1
1.4.15= 1
1.4.16= 1
1.4.17= 1
1.4.18= 1
1.4.19= 1
1.4.20= 1
1.4.21= 1
1.4.22= 1
1.4.23= 1
1.4.24= 1



1.5.1 = 1
1.5.2 = 1
1.5.3 = 1
1.5.4 = 1
1.5.5 = 1
1.5.6 = 1
1.5.7 = 1
1.5.8 = 1
1.5.9 = 1
1.5.10= 1
1.5.11= 1
1.5.12= 1
1.5.13= 1
1.5.14= 1
1.5.15= 1
1.5.16= 1
1.5.17= 1
1.5.18= 1
1.5.19= 1
1.5.20= 1
1.5.21= 1
1.5.22= 1
1.5.23= 1
1.5.24= 1


2.1.1 = 1
2.1.2 = 1
2.1.3 = 1
2.1.4 = 1
2.1.5 = 1
2.1.6 = 1
2.1.7 = 1
2.1.8 = 1
2.1.9 = 1
2.1.10= 1
2.1.11= 1
2.1.12= 1
2.1.13= 1
2.1.14= 1
2.1.15= 1
2.1.16= 1
2.1.17= 1
2.1.18= 1
2.1.19= 1
2.1.20= 1
2.1.21= 1
2.1.22= 1
2.1.23= 1
2.1.24= 1


2.2.1 = 1
2.2.2 = 1
2.2.3 = 1
2.2.4 = 1
2.2.5 = 1
2.2.6 = 1
2.2.7 = 1
2.2.8 = 1
2.2.9 = 1
2.2.10= 1
2.2.11= 1
2.2.12= 1
2.2.13= 1
2.2.14= 1
2.2.15= 1
2.2.16= 1
2.2.17= 1
2.2.18= 1
2.2.19= 1
2.2.20= 1
2.2.21= 1
2.2.22= 1
2.2.23= 1
2.2.24= 1



2.3.1 = 1
2.3.2 = 1
2.3.3 = 1
2.3.4 = 1
2.3.5 = 1
2.3.6 = 1
2.3.7 = 1
2.3.8 = 1
2.3.9 = 1
2.3.10= 1
2.3.11= 1
2.3.12= 1
2.3.13= 1
2.3.14= 1
2.3.15= 1
2.3.16= 1
2.3.17= 1
2.3.18= 1
2.3.19= 1
2.3.20= 1
2.3.21= 1
2.3.22= 1
2.3.23= 1
2.3.24= 1


2.4.1 = 1
2.4.2 = 1
2.4.3 = 1
2.4.4 = 1
2.4.5 = 1
2.4.6 = 1
2.4.7 = 1
2.4.8 = 1
2.4.9 = 1
2.4.10= 1
2.4.11= 1
2.4.12= 1
2.4.13= 1
2.4.14= 1
2.4.15= 1
2.4.16= 1
2.4.17= 1
2.4.18= 1
2.4.19= 1
2.4.20= 1
2.4.21= 1
2.4.22= 1
2.4.23= 1
2.4.24= 1


2.5.1 = 1
2.5.2 = 1
2.5.3 = 1
2.5.4 = 1
2.5.5 = 1
2.5.6 = 1
2.5.7 = 1
2.5.8 = 1
2.5.9 = 1
2.5.10= 1
2.5.11= 1
2.5.12= 1
2.5.13= 1
2.5.14= 1
2.5.15= 1
2.5.16= 1
2.5.17= 1
2.5.18= 1
2.5.19= 1
2.5.20= 1
2.5.21= 1
2.5.22= 1
2.5.23= 1
2.5.24= 1


3.1.1 = 1
3.1.2 = 1
3.1.3 = 1
3.1.4 = 1
3.1.5 = 1
3.1.6 = 1
3.1.7 = 1
3.1.8 = 1
3.1.9 = 1
3.1.10= 1
3.1.11= 1
3.1.12= 1
3.1.13= 1
3.1.14= 1
3.1.15= 1
3.1.16= 1
3.1.17= 1
3.1.18= 1
3.1.19= 1
3.1.20= 1
3.1.21= 1
3.1.22= 1
3.1.23= 1
3.1.24= 1


3.2.1 = 1
3.2.2 = 1
3.2.3 = 1
3.2.4 = 1
3.2.5 = 1
3.2.6 = 1
3.2.7 = 1
3.2.8 = 1
3.2.9 = 1
3.2.10= 1
3.2.11= 1
3.2.12= 1
3.2.13= 1
3.2.14= 1
3.2.15= 1
3.2.16= 1
3.2.17= 1
3.2.18= 1
3.2.19= 1
3.2.20= 1
3.2.21= 1
3.2.22= 1
3.2.23= 1
3.2.24= 1



3.3.1 = 1
3.3.2 = 1
3.3.3 = 1
3.3.4 = 1
3.3.5 = 1
3.3.6 = 1
3.3.7 = 1
3.3.8 = 1
3.3.9 = 1
3.3.10= 1
3.3.11= 1
3.3.12= 1
3.3.13= 1
3.3.14= 1
3.3.15= 1
3.3.16= 1
3.3.17= 1
3.3.18= 1
3.3.19= 1
3.3.20= 1
3.3.21= 1
3.3.22= 1
3.3.23= 1
3.3.24= 1




3.4.1 = 1
3.4.2 = 1
3.4.3 = 1
3.4.4 = 1
3.4.5 = 1
3.4.6 = 1
3.4.7 = 1
3.4.8 = 1
3.4.9 = 1
3.4.10= 1
3.4.11= 1
3.4.12= 1
3.4.13= 1
3.4.14= 1
3.4.15= 1
3.4.16= 1
3.4.17= 1
3.4.18= 1
3.4.19= 1
3.4.20= 1
3.4.21= 1
3.4.22= 1
3.4.23= 1
3.4.24= 1



3.5.1 = 1
3.5.2 = 1
3.5.3 = 1
3.5.4 = 1
3.5.5 = 1
3.5.6 = 1
3.5.7 = 1
3.5.8 = 1
3.5.9 = 1
3.5.10= 1
3.5.11= 1
3.5.12= 1
3.5.13= 1
3.5.14= 1
3.5.15= 1
3.5.16= 1
3.5.17= 1
3.5.18= 1
3.5.19= 1
3.5.20= 1
3.5.21= 1
3.5.22= 1
3.5.23= 1
3.5.24= 1


4.1.1 = 1
4.1.2 = 1
4.1.3 = 1
4.1.4 = 1
4.1.5 = 1
4.1.6 = 1
4.1.7 = 1
4.1.8 = 1
4.1.9 = 1
4.1.10= 1
4.1.11= 1
4.1.12= 1
4.1.13= 1
4.1.14= 1
4.1.15= 1
4.1.16= 1
4.1.17= 1
4.1.18= 1
4.1.19= 1
4.1.20= 1
4.1.21= 1
4.1.22= 1
4.1.23= 1
4.1.24= 1


4.2.1 = 1
4.2.2 = 1
4.2.3 = 1
4.2.4 = 1
4.2.5 = 1
4.2.6 = 1
4.2.7 = 1
4.2.8 = 1
4.2.9 = 1
4.2.10= 1
4.2.11= 1
4.2.12= 1
4.2.13= 1
4.2.14= 1
4.2.15= 1
4.2.16= 1
4.2.17= 1
4.2.18= 1
4.2.19= 1
4.2.20= 1
4.2.21= 1
4.2.22= 1
4.2.23= 1
4.2.24= 1



4.3.1 = 1
4.3.2 = 1
4.3.3 = 1
4.3.4 = 1
4.3.5 = 1
4.3.6 = 1
4.3.7 = 1
4.3.8 = 1
4.3.9 = 1
4.3.10= 1
4.3.11= 1
4.3.12= 1
4.3.13= 1
4.3.14= 1
4.3.15= 1
4.3.16= 1
4.3.17= 1
4.3.18= 1
4.3.19= 1
4.3.20= 1
4.3.21= 1
4.3.22= 1
4.3.23= 1
4.3.24= 1




4.4.1 = 1
4.4.2 = 1
4.4.3 = 1
4.4.4 = 1
4.4.5 = 1
4.4.6 = 1
4.4.7 = 1
4.4.8 = 1
4.4.9 = 1
4.4.10= 1
4.4.11= 1
4.4.12= 1
4.4.13= 1
4.4.14= 1
4.4.15= 1
4.4.16= 1
4.4.17= 1
4.4.18= 1
4.4.19= 1
4.4.20= 1
4.4.21= 1
4.4.22= 1
4.4.23= 1
4.4.24= 1



4.5.1 = 1
4.5.2 = 1
4.5.3 = 1
4.5.4 = 1
4.5.5 = 1
4.5.6 = 1
4.5.7 = 1
4.5.8 = 1
4.5.9 = 1
4.5.10= 1
4.5.11= 1
4.5.12= 1
4.5.13= 1
4.5.14= 1
4.5.15= 1
4.5.16= 1
4.5.17= 1
4.5.18= 1
4.5.19= 1
4.5.20= 1
4.5.21= 1
4.5.22= 1
4.5.23= 1
4.5.24= 1


/



Table Nmin(d,h) min necessary nurse number
   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24
1  4 4 4 4 4 4 4 4 4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4
2  4 4 4 4 4 4 4 4 4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4
3  4 4 4 4 4 4 4 4 4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4
4  4 4 4 4 4 4 4 4 4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4
5  4 4 4 4 4 4 4 4 4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4

Table al(i,d) annual leave
  1 2 3 4 5
1 0 0 0 0 1
2 0 0 0 0 0
3 0 0 0 0 0
4 0 0 0 0 0

Table a(h,j) hour coverage of shifts
   1 2
1  0 1
2  0 1
3  0 1
4  0 1
5  0 1
6  0 1
7  0 1
8  1 0
9  1 0
10 1 0
11 1 0
12 1 0
13 1 0
14 1 0
15 1 0
16 0 1
17 0 1
18 0 1
19 0 1
20 0 1
21 0 1
22 0 1
23 0 1
24 0 1

;";
fwrite($myfile, $txt);
fclose($myfile);
?>